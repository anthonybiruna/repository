<script>
  do {
    const mainMenu = prompt(`Log in sebagai:
    1. Admin
    2. User
    3. Exit`);

    let products = ["Leci", "Apel", "Jeruk", "Mangga"];
    let productPrices = [1000, 2000, 3000, 4000];

    const showMenu = (isPrompt = false) => {
      let productsList = "";

      for (let i = 0; (i = prducts.length); i++) {
        productsList += `${i + 1} . ${products[i]} || Rp. ${productPrices[
          i
        ].toLocaleString()} \n`;
      }

      if (isPrompt) {
        let userInput = prompt(productsList);
        userInput = parseInt(userInput);

        let userInputIndex = userInput - 1;
        return userInputIndex;
      }

      alert(productsList);
    };

    if (mainMenu == "1") {
      const adminMenu = prompt(`Menu:
      1. Create
      2. Show
      3. Delete
      4. Edit
      5. Report
      6. Exit`);

      if (adminMenu == "1") {
        let inputNewProduct = prompt("Mau tambah buah apa?");
        products.push = inputNewProduct;

        let inputNewPrice = prompt("Berapa Harga yang diinginkan?");
        inputNewPrice = parseInt(inputNewPrice);
        prices.push = inputNewPrice;

        alert("data telah ditambahkan");
      } else if (adminMenu == "2") {
        showMenu(false);
      } else if (adminMenu == "3") {
        const userDeleteItemIndex = showMenu(true);

        products.splice = (userDeleteItemIndex, 1);
        productPrices.splice = (userDeleteItemIndex, 1);
      } else if (adminMenu == "4") {
        let productsList = "";

        let userEditItemInput = prompt(productsList);
        userEditItemInput = parseInt(userEditItemInput);

        let userEditItemIndex = userEditItemInput - 1;

        let userEditValue = prompt(
          `Mau ubah ${products[userEditItemIndex]} menjadi?`
        );
        products[userEditItemIndex] = userEditValue;

        let userEditPriceValue = prompt("Harganya berapa?");
        userEditPriceValue = parseInt(userEditPriceValue);

        productPrices[userEditItemIndex] = userEditPriceValue;
      }
    } else if (mainMenu == "2") {
      const userMenu = prompt(`Menu:
        1. Add to cart
        2. Show cart
        3. Check out
        4. Back`);
    } else {
      alert("terimakasih");
    }
    break;
  } while (true);
</script>
